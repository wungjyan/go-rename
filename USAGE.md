# 使用指南

## 快速开始

### 1. 下载程序

从 [Releases 页面](https://github.com/wungjyan/go-rename/releases) 下载适合您系统的版本。

### 2. 运行程序

```bash
# Windows
go-rename-windows-amd64.exe

# macOS/Linux
./go-rename-darwin-amd64
./go-rename-linux-amd64
```

### 3. 按提示操作

程序会依次询问以下信息：

1. **文件夹路径**：要处理的目录（回车=当前目录）
2. **排除文件夹**：是否跳过文件夹重命名（y/N）
3. **匹配规则**：正则表达式或字符串
4. **替换模板**：新文件名格式

## 常用场景

### 场景1：批量添加前缀

**需求**：给所有文件添加 "backup_" 前缀

```
匹配规则：(.*)
替换模板：backup_$1
```

**效果**：
- `file1.txt` → `backup_file1.txt`
- `image.jpg` → `backup_image.jpg`

### 场景2：修改文件扩展名

**需求**：将所有 .txt 文件改为 .bak

```
匹配规则：(.+)\.txt$
替换模板：$1.bak
```

**效果**：
- `document.txt` → `document.bak`
- `readme.txt` → `readme.bak`

### 场景3：提取并重组文件名

**需求**：将 "IMG_20231201_001.jpg" 格式改为 "2023-12-01_001.jpg"

```
匹配规则：IMG_(\d{4})(\d{2})(\d{2})_(\d+)\.jpg
替换模板：$1-$2-$3_$4.jpg
```

**效果**：
- `IMG_20231201_001.jpg` → `2023-12-01_001.jpg`
- `IMG_20231225_042.jpg` → `2023-12-25_042.jpg`

### 场景4：删除特定字符

**需求**：删除文件名中的空格和特殊字符

```
匹配规则：([^\s\-]+)\s*[\-\s]*([^\s\-]+)
替换模板：$1_$2
```

**效果**：
- `My File - Copy.txt` → `My_File_Copy.txt`
- `Photo - 2023.jpg` → `Photo_2023.jpg`

### 场景5：按序号重命名

**需求**：将文件重命名为 "file_001", "file_002" 格式

```
匹配规则：.*\.(\w+)$
替换模板：file_$1
```

注意：这个例子需要结合其他工具或脚本来生成序号。

## 正则表达式参考

### 常用元字符

- `.` - 匹配任意字符
- `*` - 前面字符重复0次或多次
- `+` - 前面字符重复1次或多次
- `?` - 前面字符重复0次或1次
- `^` - 行开始
- `$` - 行结束
- `\d` - 数字字符
- `\w` - 字母数字下划线
- `\s` - 空白字符

### 分组和引用

- `()` - 创建分组
- `$1, $2, $3...` - 引用对应分组

### 示例模式

```
# 匹配数字
\d+

# 匹配文件扩展名
\.(\w+)$

# 匹配日期格式 YYYY-MM-DD
(\d{4})-(\d{2})-(\d{2})

# 匹配带空格的文件名
(.+)\s+(.+)

# 匹配以特定前缀开始的文件
^prefix_(.+)
```

## 注意事项

1. **备份重要文件**：重命名前请备份重要文件
2. **测试正则表达式**：可以先在小范围测试
3. **特殊字符转义**：在正则表达式中使用 `\` 转义特殊字符
4. **大小写敏感**：正则表达式默认区分大小写
5. **路径分隔符**：使用系统对应的路径分隔符

## 故障排除

### 问题1：正则表达式不匹配

**解决方案**：
- 检查特殊字符是否正确转义
- 使用在线正则表达式测试工具验证
- 简化表达式，逐步增加复杂度

### 问题2：替换结果不符合预期

**解决方案**：
- 确认分组编号正确（$1, $2...）
- 检查分组括号是否配对
- 验证匹配模式是否正确

### 问题3：程序权限错误

**解决方案**：
- 确保对目标目录有写权限
- 在 macOS/Linux 上可能需要 `chmod +x` 添加执行权限
- Windows 上可能需要以管理员身份运行

## 获取帮助

如果遇到问题，可以：

1. 查看 [GitHub Issues](https://github.com/wungjyan/go-rename/issues)
2. 提交新的 Issue 描述问题
3. 参考项目 README 文档

---

更多高级用法请参考 [README.md](README.md) 文档。